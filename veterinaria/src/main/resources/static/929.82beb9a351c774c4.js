"use strict";(self.webpackChunkfury=self.webpackChunkfury||[]).push([[929],{45929:(et,M,n)=>{n.r(M),n.d(M,{MascotaModule:()=>tt});var p=n(60177),g=n(18498),c=n(9159),s=n(89417),m=n(34006),t=n(17705),d=n(52920),f=n(88834),C=n(86467),y=n(99631);function k(o,i){1&o&&(t.j41(0,"mat-form-field",4)(1,"mat-label"),t.EFF(2,"CI Cliente"),t.k0s(),t.nrm(3,"input",13),t.k0s())}function I(o,i){if(1&o&&(t.j41(0,"button",14),t.EFF(1,"Crear Mascota "),t.k0s()),2&o){const e=t.XpG();t.Y8G("disabled",!e.form.valid)}}function E(o,i){if(1&o&&(t.j41(0,"button",14),t.EFF(1,"Actualizar Mascota "),t.k0s()),2&o){const e=t.XpG();t.Y8G("disabled",!e.form.valid)}}let v=(()=>{class o{constructor(e,a){this.defaults=e,this.dialogRef=a,this.mode="create"}ngOnInit(){this.defaults?this.mode="update":this.defaults={},this.form=new s.J3({nombre:new s.hs(this.defaults.nombre),edad:new s.hs(this.defaults.edad),sexo:new s.hs(this.defaults.sexo),color:new s.hs(this.defaults.color),especie:new s.hs(this.defaults.especie),raza:new s.hs(this.defaults.raza),ci:new s.hs(this.defaults.ci)})}save(){console.log(this.form.value),"create"===this.mode?this.createCustomer():"update"===this.mode&&this.updateCustomer()}createCustomer(){this.dialogRef.close(this.form.value)}updateCustomer(){const e=this.form.value;e.id=this.defaults.id,this.dialogRef.close(e)}isCreateMode(){return"create"===this.mode}isUpdateMode(){return"update"===this.mode}static{this.\u0275fac=function(a){return new(a||o)(t.rXU(m.Vh),t.rXU(m.CP))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["fury-crear-actualizar-mascota"]],decls:33,vars:5,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],["fxLayout","column wrap"],["fxFlex","",4,"ngIf"],["fxFlex",""],["type","text","formControlName","nombre","matInput",""],["type","text","formControlName","edad","matInput",""],["type","text","formControlName","sexo","matInput",""],["type","text","formControlName","color","matInput",""],["type","text","formControlName","especie","matInput",""],["type","text","formControlName","raza","matInput",""],["fxLayout","row","fxLayoutAlign","end center"],["mat-flat-button","","color","primary",3,"disabled",4,"ngIf"],["type","text","formControlName","ci","matInput",""],["mat-flat-button","","color","primary",3,"disabled"]],template:function(a,r){1&a&&(t.j41(0,"div",0),t.EFF(1),t.k0s(),t.j41(2,"form",1),t.bIt("ngSubmit",function(){return r.save()}),t.j41(3,"mat-dialog-content")(4,"div",2),t.DNE(5,k,4,0,"mat-form-field",3),t.j41(6,"mat-form-field",4)(7,"mat-label"),t.EFF(8,"Nombre"),t.k0s(),t.nrm(9,"input",5),t.k0s(),t.j41(10,"mat-form-field",4)(11,"mat-label"),t.EFF(12,"Edad"),t.k0s(),t.nrm(13,"input",6),t.k0s(),t.j41(14,"mat-form-field",4)(15,"mat-label"),t.EFF(16,"Sexo"),t.k0s(),t.nrm(17,"input",7),t.k0s(),t.j41(18,"mat-form-field",4)(19,"mat-label"),t.EFF(20,"Color"),t.k0s(),t.nrm(21,"input",8),t.k0s(),t.j41(22,"mat-form-field",4)(23,"mat-label"),t.EFF(24,"Especie"),t.k0s(),t.nrm(25,"input",9),t.k0s(),t.j41(26,"mat-form-field",4)(27,"mat-label"),t.EFF(28,"Raza"),t.k0s(),t.nrm(29,"input",10),t.k0s()()(),t.j41(30,"mat-dialog-actions",11),t.DNE(31,I,2,1,"button",12),t.DNE(32,E,2,1,"button",12),t.k0s()()),2&a&&(t.R7$(1),t.SpI("",r.isCreateMode()?"Crear":"Actualizar"," Mascota"),t.R7$(1),t.Y8G("formGroup",r.form),t.R7$(3),t.Y8G("ngIf","update"!=r.mode),t.R7$(26),t.Y8G("ngIf",r.isCreateMode()),t.R7$(1),t.Y8G("ngIf",r.isUpdateMode()))},dependencies:[p.bT,d.DJ,d.sA,d.UI,f.$z,m.BI,m.Yi,m.E7,C.rl,C.nJ,y.fg,s.qT,s.me,s.BC,s.cb,s.j4,s.JD]})}}return o})();var R=n(97405),D=n(74061),G=n(75063),x=n(82765),F=n(99213),h=n(59115),j=n(96695),b=n(2042),T=n(43655),$=n(53007),N=n(15551);function S(o,i){1&o&&(t.j41(0,"th",15)(1,"mat-checkbox",16),t.bIt("click",function(a){return a.stopPropagation()}),t.k0s()())}function _(o,i){1&o&&(t.j41(0,"td",17)(1,"mat-checkbox",16),t.bIt("click",function(a){return a.stopPropagation()}),t.k0s()())}function z(o,i){if(1&o&&(t.j41(0,"th",22),t.EFF(1),t.k0s()),2&o){const e=t.XpG(2).$implicit;t.R7$(1),t.SpI(" ",e.name,"")}}function Y(o,i){if(1&o&&(t.j41(0,"td",23),t.EFF(1),t.k0s()),2&o){const e=i.$implicit,a=t.XpG(2).$implicit;t.R7$(1),t.SpI(" ",e[a.property]," ")}}function P(o,i){if(1&o&&(t.qex(0,19),t.DNE(1,z,2,1,"th",20),t.DNE(2,Y,2,1,"td",21),t.bVm()),2&o){const e=t.XpG().$implicit;t.Y8G("matColumnDef",e.property)}}function A(o,i){if(1&o&&(t.qex(0),t.DNE(1,P,3,1,"ng-container",18),t.bVm()),2&o){const e=i.$implicit;t.R7$(1),t.Y8G("ngIf",e.isModelProperty)}}function V(o,i){1&o&&t.nrm(0,"th",24)}function X(o,i){if(1&o){const e=t.RV6();t.j41(0,"td",17)(1,"button",25),t.bIt("click",function(r){return r.stopPropagation()}),t.j41(2,"mat-icon"),t.EFF(3,"more_horiz"),t.k0s()(),t.j41(4,"mat-menu",26,27)(6,"button",28),t.bIt("click",function(){const l=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.updateMascota(l))}),t.j41(7,"span"),t.EFF(8,"Modify"),t.k0s()(),t.j41(9,"button",28),t.bIt("click",function(){const l=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.deleteMascota(l))}),t.j41(10,"span"),t.EFF(11,"Delete"),t.k0s()()()()}if(2&o){const e=t.sdS(5);t.R7$(1),t.Y8G("matMenuTriggerFor",e)}}function B(o,i){1&o&&t.nrm(0,"tr",29)}function U(o,i){if(1&o){const e=t.RV6();t.j41(0,"tr",30),t.bIt("click",function(){const l=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.updateMascota(l))}),t.k0s()}}const w=function(){return["Mascotas"]},H=function(){return[]},J=[{path:"",component:(()=>{class o{ngOnInit(){this.getMascotas()}get visibleColumns(){return this.columns.filter(e=>e.visible).map(e=>e.property)}constructor(e,a){this.apiClient=e,this.dialog=a,this.dataSource=new c.I6([]),this.columns=[{name:"ID",property:"id",visible:!0,isModelProperty:!0},{name:"Nombre",property:"nombre",visible:!0,isModelProperty:!0},{name:"Edad",property:"edad",visible:!0,isModelProperty:!0},{name:"Sexo",property:"sexo",visible:!0,isModelProperty:!0},{name:"Color",property:"color",visible:!0,isModelProperty:!0},{name:"Especie",property:"especie",visible:!0,isModelProperty:!0},{name:"Raza",property:"raza",visible:!0,isModelProperty:!0},{name:"CI Cliente",property:"ci",visible:!0,isModelProperty:!0},{name:"Actions",property:"actions",visible:!0}],this.pageSize=10}getMascotas(){this.apiClient.getRequest("/api/mascota").subscribe({next:e=>{this.dataSource.data=e,console.log(e)},error:e=>{console.error(e)}})}onFilterChange(e){console.info(event),this.dataSource&&(e=(e=e.trim()).toLowerCase(),this.dataSource.filter=e)}createMascota(){console.info("Abre dialogo"),this.dialog.open(v,{width:"400px"}).afterClosed().subscribe(e=>{e?(console.info("Al cerrar",e),this.apiClient.postRequest("/api/mascota",e).subscribe({next:a=>{console.info("OK",a),this.getMascotas()},error:a=>{console.error("error",a)}}),console.info("Fin api call")):console.info("Cancelado")}),console.info("Fin Metodo")}deleteMascota(e){this.apiClient.deleteRequest(e.id,"/api/mascota").subscribe({next:a=>{this.getMascotas()},error:a=>{}})}updateMascota(e){console.info(e),this.dialog.open(v,{data:e,width:"400px"}).afterClosed().subscribe(a=>{a?this.apiClient.putRequest("/api/mascota",a.id,a).subscribe({next:r=>{this.getMascotas()},error:r=>{console.error(r)}}):console.info("Cancelado")})}static{this.\u0275fac=function(a){return new(a||o)(t.rXU(R.f),t.rXU(m.bZ))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["fury-mascota"]],decls:20,vars:9,consts:[["mode","card"],["current","mascotas",3,"crumbs"],["name","Mascotas",3,"columns","filterChange"],[1,"actions"],["type","button","mat-mini-fab","","color","primary",1,"create",3,"click"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","checkbox"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"paginator",3,"pageSize"],["mat-header-cell","",1,"actions-cell"],["color","primary",3,"click"],["mat-cell","",1,"actions-cell"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements",3,"click"]],template:function(a,r){1&a&&(t.j41(0,"fury-page-layout",0)(1,"fury-page-layout-header"),t.nrm(2,"fury-breadcrumbs",1),t.k0s(),t.j41(3,"fury-page-layout-content")(4,"fury-list",2),t.bIt("filterChange",function(u){return r.onFilterChange(u)}),t.j41(5,"div",3)(6,"button",4),t.bIt("click",function(){return r.createMascota()}),t.j41(7,"mat-icon"),t.EFF(8,"add"),t.k0s()()(),t.j41(9,"table",5),t.qex(10,6),t.DNE(11,S,2,0,"th",7),t.DNE(12,_,2,0,"td",8),t.bVm(),t.DNE(13,A,2,1,"ng-container",9),t.qex(14,10),t.DNE(15,V,1,0,"th",11),t.DNE(16,X,12,1,"td",8),t.bVm(),t.DNE(17,B,1,0,"tr",12),t.DNE(18,U,1,0,"tr",13),t.k0s(),t.nrm(19,"mat-paginator",14),t.k0s()()()),2&a&&(t.R7$(2),t.Y8G("crumbs",t.lJ4(7,w)),t.R7$(2),t.Y8G("columns",t.lJ4(8,H)),t.R7$(5),t.Y8G("dataSource",r.dataSource),t.R7$(4),t.Y8G("ngForOf",r.columns),t.R7$(4),t.Y8G("matHeaderRowDef",r.visibleColumns),t.R7$(1),t.Y8G("matRowDefColumns",r.visibleColumns),t.R7$(1),t.Y8G("pageSize",r.pageSize))},dependencies:[p.Sq,p.bT,D.m,G.s,f.iY,f.$0,x.So,F.An,h.kk,h.fb,h.Cp,j.iy,b.B4,b.aE,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB,T.T,$.M,N.M]})}}return o})()}];let L=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[g.iI.forChild(J),g.iI]})}}return o})();var O=n(3632),Z=n(91398),K=n(49320),Q=n(86600),W=n(82798);let q=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[p.MD,d.w2,f.Hl,m.hM,C.RG,y.fS,s.X1,Q.Sy,W.Ve]})}}return o})(),tt=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[p.MD,L,O.V,Z.H,f.Hl,x.g7,F.m_,h.Cn,j.Ou,b.NQ,c.tP,K.S,q]})}}return o})()}}]);