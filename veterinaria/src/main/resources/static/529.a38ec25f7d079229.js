"use strict";(self.webpackChunkfury=self.webpackChunkfury||[]).push([[529],{40529:(re,g,n)=>{n.r(g),n.d(g,{ProveedorModule:()=>oe});var u=n(60177),b=n(18498),l=n(9159),a=n(89417),m=n(34006),e=n(17705),v=n(52920),y=n(99631),P=n(86467),f=n(88834);function D(o,s){if(1&o&&(e.j41(0,"button",11),e.EFF(1,"Registrar Proveedor "),e.k0s()),2&o){const t=e.XpG();e.Y8G("disabled",!t.form.valid)}}function R(o,s){if(1&o&&(e.j41(0,"button",11),e.EFF(1,"Actualizar Proveedor "),e.k0s()),2&o){const t=e.XpG();e.Y8G("disabled",!t.form.valid)}}let F=(()=>{class o{constructor(t,r){this.defaults=t,this.dialogRef=r,this.mode="create"}ngOnInit(){this.defaults?this.mode="update":this.defaults={},this.form=new a.J3({nombre:new a.hs(this.defaults.nombre),telefono:new a.hs(this.defaults.telefono),correo:new a.hs(this.defaults.correo),direccion:new a.hs(this.defaults.direccion),encargado:new a.hs(this.defaults.encargado)})}save(){console.log(this.form.value),"create"===this.mode?this.createCustomer():"update"===this.mode&&this.updateCustomer()}createCustomer(){this.dialogRef.close(this.form.value)}updateCustomer(){const t=this.form.value;t.id=this.defaults.id,this.dialogRef.close(t)}isCreateMode(){return"create"===this.mode}isUpdateMode(){return"update"===this.mode}static{this.\u0275fac=function(r){return new(r||o)(e.rXU(m.Vh),e.rXU(m.CP))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["fury-crear-actualizar-proveedor"]],decls:28,vars:4,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],["fxLayout","column wrap"],["fxFlex",""],["type","text","formControlName","nombre","matInput",""],["type","text","formControlName","telefono","matInput",""],["type","text","formControlName","correo","matInput",""],["type","text","formControlName","direccion","matInput",""],["type","text","formControlName","encargado","matInput",""],["fxLayout","row","fxLayoutAlign","end center"],["mat-flat-button","","color","primary",3,"disabled",4,"ngIf"],["mat-flat-button","","color","primary",3,"disabled"]],template:function(r,i){1&r&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"form",1),e.bIt("ngSubmit",function(){return i.save()}),e.j41(3,"mat-dialog-content")(4,"div",2)(5,"mat-form-field",3)(6,"mat-label"),e.EFF(7,"Nombre"),e.k0s(),e.nrm(8,"input",4),e.k0s(),e.j41(9,"mat-form-field",3)(10,"mat-label"),e.EFF(11,"Telefono"),e.k0s(),e.nrm(12,"input",5),e.k0s(),e.j41(13,"mat-form-field",3)(14,"mat-label"),e.EFF(15,"Correo"),e.k0s(),e.nrm(16,"input",6),e.k0s(),e.j41(17,"mat-form-field",3)(18,"mat-label"),e.EFF(19,"Direccion"),e.k0s(),e.nrm(20,"input",7),e.k0s(),e.j41(21,"mat-form-field",3)(22,"mat-label"),e.EFF(23,"Encargado"),e.k0s(),e.nrm(24,"input",8),e.k0s()()(),e.j41(25,"mat-dialog-actions",9),e.DNE(26,D,2,1,"button",10),e.DNE(27,R,2,1,"button",10),e.k0s()()),2&r&&(e.R7$(1),e.SpI("",i.isCreateMode()?"Crear":"Actualizar"," Proveedor"),e.R7$(1),e.Y8G("formGroup",i.form),e.R7$(24),e.Y8G("ngIf",i.isCreateMode()),e.R7$(1),e.Y8G("ngIf",i.isUpdateMode()))},dependencies:[u.bT,a.qT,a.me,a.BC,a.cb,a.j4,a.JD,v.DJ,v.sA,v.UI,m.BI,m.Yi,m.E7,y.fg,P.rl,P.nJ,f.$z]})}}return o})();var k=n(97405),T=n(74061),E=n(43655),I=n(53007),$=n(15551),G=n(75063),x=n(82765),h=n(99213),p=n(59115),j=n(96695),C=n(2042);function M(o,s){1&o&&(e.j41(0,"th",15)(1,"mat-checkbox",16),e.bIt("click",function(r){return r.stopPropagation()}),e.k0s()())}function N(o,s){1&o&&(e.j41(0,"td",17)(1,"mat-checkbox",16),e.bIt("click",function(r){return r.stopPropagation()}),e.k0s()())}function S(o,s){if(1&o&&(e.j41(0,"th",22),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2).$implicit;e.R7$(1),e.SpI(" ",t.name,"")}}function Y(o,s){if(1&o&&(e.j41(0,"td",23),e.EFF(1),e.k0s()),2&o){const t=s.$implicit,r=e.XpG(2).$implicit;e.R7$(1),e.SpI(" ",t[r.property]," ")}}function z(o,s){if(1&o&&(e.qex(0,19),e.DNE(1,S,2,1,"th",20),e.DNE(2,Y,2,1,"td",21),e.bVm()),2&o){const t=e.XpG().$implicit;e.Y8G("matColumnDef",t.property)}}function V(o,s){if(1&o&&(e.qex(0),e.DNE(1,z,3,1,"ng-container",18),e.bVm()),2&o){const t=s.$implicit;e.R7$(1),e.Y8G("ngIf",t.isModelProperty)}}function A(o,s){1&o&&e.nrm(0,"th",24)}function X(o,s){if(1&o){const t=e.RV6();e.j41(0,"td",17)(1,"button",25),e.bIt("click",function(i){return i.stopPropagation()}),e.j41(2,"mat-icon"),e.EFF(3,"more_horiz"),e.k0s()(),e.j41(4,"mat-menu",26,27)(6,"button",28),e.bIt("click",function(){const c=e.eBV(t).$implicit,d=e.XpG();return e.Njj(d.updateProveedor(c))}),e.j41(7,"span"),e.EFF(8,"Modify"),e.k0s()(),e.j41(9,"button",28),e.bIt("click",function(){const c=e.eBV(t).$implicit,d=e.XpG();return e.Njj(d.deleteProveedor(c))}),e.j41(10,"span"),e.EFF(11,"Delete"),e.k0s()()()()}if(2&o){const t=e.sdS(5);e.R7$(1),e.Y8G("matMenuTriggerFor",t)}}function _(o,s){1&o&&e.nrm(0,"tr",29)}function B(o,s){if(1&o){const t=e.RV6();e.j41(0,"tr",30),e.bIt("click",function(){const c=e.eBV(t).$implicit,d=e.XpG();return e.Njj(d.updateProveedor(c))}),e.k0s()}}const H=function(){return["Proveedores"]},U=function(){return[]},J=[{path:"",component:(()=>{class o{ngOnInit(){this.getProveedor()}get visibleColumns(){return this.columns.filter(t=>t.visible).map(t=>t.property)}constructor(t,r){this.apiClient=t,this.dialog=r,this.dataSource=new l.I6([]),this.columns=[{name:"ID",property:"id",visible:!0,isModelProperty:!0},{name:"Nombre",property:"nombre",visible:!0,isModelProperty:!0},{name:"Telefono",property:"telefono",visible:!0,isModelProperty:!0},{name:"Correo",property:"correo",visible:!0,isModelProperty:!0},{name:"Direccion",property:"direccion",visible:!0,isModelProperty:!0},{name:"Encargado",property:"encargado",visible:!0,isModelProperty:!0},{name:"Actions",property:"actions",visible:!0}],this.pageSize=10}getProveedor(){this.apiClient.getRequest("/api/proveedor").subscribe({next:t=>{this.dataSource.data=t,console.log(t)},error:t=>{console.error(t)}})}onFilterChange(t){console.info(event),this.dataSource&&(t=(t=t.trim()).toLowerCase(),this.dataSource.filter=t)}createProveedor(){console.info("Abre dialogo"),this.dialog.open(F,{width:"400px"}).afterClosed().subscribe(t=>{t?(console.info("Al cerrar",t),this.apiClient.postRequest("/api/proveedor",t).subscribe({next:r=>{console.info("OK",r),this.getProveedor()},error:r=>{console.error("error",r)}}),console.info("Fin api call")):console.info("Cancelado")}),console.info("Fin Metodo")}deleteProveedor(t){this.apiClient.deleteRequest(t.id,"/api/proveedor").subscribe({next:r=>{this.getProveedor()},error:r=>{}})}updateProveedor(t){console.info(t),this.dialog.open(F,{data:t,width:"400px"}).afterClosed().subscribe(r=>{r?this.apiClient.putRequest("/api/proveedor",r.id,r).subscribe({next:i=>{this.getProveedor()},error:i=>{console.error(i)}}):console.info("Cancelado")})}static{this.\u0275fac=function(r){return new(r||o)(e.rXU(k.f),e.rXU(m.bZ))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["fury-proveedor"]],decls:20,vars:9,consts:[["mode","card"],["current","Proveedor",3,"crumbs"],["name","Proveedor",3,"columns","filterChange"],[1,"actions"],["type","button","mat-mini-fab","","color","primary",1,"create",3,"click"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","checkbox"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"paginator",3,"pageSize"],["mat-header-cell","",1,"actions-cell"],["color","primary",3,"click"],["mat-cell","",1,"actions-cell"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements",3,"click"]],template:function(r,i){1&r&&(e.j41(0,"fury-page-layout",0)(1,"fury-page-layout-header"),e.nrm(2,"fury-breadcrumbs",1),e.k0s(),e.j41(3,"fury-page-layout-content")(4,"fury-list",2),e.bIt("filterChange",function(d){return i.onFilterChange(d)}),e.j41(5,"div",3)(6,"button",4),e.bIt("click",function(){return i.createProveedor()}),e.j41(7,"mat-icon"),e.EFF(8,"add"),e.k0s()()(),e.j41(9,"table",5),e.qex(10,6),e.DNE(11,M,2,0,"th",7),e.DNE(12,N,2,0,"td",8),e.bVm(),e.DNE(13,V,2,1,"ng-container",9),e.qex(14,10),e.DNE(15,A,1,0,"th",11),e.DNE(16,X,12,1,"td",8),e.bVm(),e.DNE(17,_,1,0,"tr",12),e.DNE(18,B,1,0,"tr",13),e.k0s(),e.nrm(19,"mat-paginator",14),e.k0s()()()),2&r&&(e.R7$(2),e.Y8G("crumbs",e.lJ4(7,H)),e.R7$(2),e.Y8G("columns",e.lJ4(8,U)),e.R7$(5),e.Y8G("dataSource",i.dataSource),e.R7$(4),e.Y8G("ngForOf",i.columns),e.R7$(4),e.Y8G("matHeaderRowDef",i.visibleColumns),e.R7$(1),e.Y8G("matRowDefColumns",i.visibleColumns),e.R7$(1),e.Y8G("pageSize",i.pageSize))},dependencies:[u.Sq,u.bT,T.m,E.T,I.M,$.M,G.s,f.iY,f.$0,x.So,h.An,p.kk,p.fb,p.Cp,j.iy,C.B4,C.aE,l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB]})}}return o})()}];let L=(()=>{class o{static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[b.iI.forChild(J),b.iI]})}}return o})();var O=n(3632),Z=n(91398),w=n(49320),K=n(26924),Q=n(5951),W=n(82798);let q=(()=>{class o{static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[u.MD,a.YN,a.X1,K.YF,m.hM,y.fS,f.Hl,h.m_,Q.Wk,W.Ve]})}}return o})();var ee=n(60858),te=n(11801);let oe=(()=>{class o{static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[u.MD,L,O.V,ee.H,te.g,w.S,Z.H,f.Hl,x.g7,h.m_,p.Cn,j.Ou,C.NQ,l.tP,q,a.YN]})}}return o})()}}]);