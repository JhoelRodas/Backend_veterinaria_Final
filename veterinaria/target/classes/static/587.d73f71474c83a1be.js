"use strict";(self.webpackChunkfury=self.webpackChunkfury||[]).push([[587],{64587:(it,g,i)=>{i.r(g),i.d(g,{ClienteModule:()=>ot});var d=i(60177),y=i(18498),s=i(9159),r=i(89417),m=i(34006),t=i(17705),C=i(52920),v=i(99631),x=i(86467),f=i(88834);function I(n,a){if(1&n&&(t.j41(0,"button",12),t.EFF(1,"Crear Cliente "),t.k0s()),2&n){const e=t.XpG();t.Y8G("disabled",!e.form.valid)}}function E(n,a){if(1&n&&(t.j41(0,"button",12),t.EFF(1,"Actualizar Cliente "),t.k0s()),2&n){const e=t.XpG();t.Y8G("disabled",!e.form.valid)}}class F{constructor(a,e){this.id=a,this.nombre=e}}let j=(()=>{class n{constructor(e,o){this.defaults=e,this.dialogRef=o,this.p1=new F(2,"fmotero"),this.P1=new F(2,"fmotero"),this.p3={id:45,nombre:"nombre1"},this.p2={id:0,nombre:"nombre"},this.p4={id:0,nombre:"nombre"},this.mode="create",this.title="Crear"}ngOnInit(){this.defaults?this.mode="update":this.defaults={},this.form=new r.J3({ci:new r.hs(this.defaults.ci??"12345"),extension:new r.hs(this.defaults.extension??"SCZ"),nombre:new r.hs(this.defaults.nombre??"Jairo Vargas"),telefono:new r.hs(this.defaults.telefono??"71010235"),correo:new r.hs(this.defaults.correo??"Jv@gmail.com"),direccion:new r.hs(this.defaults.direccion??"direccion demo")})}save(){"create"===this.mode?this.createCustomer():"update"===this.mode&&this.updateCustomer()}createCustomer(){this.dialogRef.close(this.form.value)}updateCustomer(){const e=this.form.value;e.id=this.defaults.id,this.dialogRef.close(e)}isCreateMode(){return"create"===this.mode}isUpdateMode(){return"update"===this.mode}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(m.Vh),t.rXU(m.CP))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["fury-crear-actualizar-cliente"]],decls:32,vars:4,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],["fxLayout","column wrap"],["fxFlex",""],["type","text","formControlName","ci","matInput",""],["type","text","formControlName","extension","matInput",""],["type","text","formControlName","nombre","matInput",""],["type","text","formControlName","telefono","matInput",""],["type","text","formControlName","correo","matInput",""],["type","text","formControlName","direccion","matInput",""],["fxLayout","row","fxLayoutAlign","end center"],["mat-flat-button","","color","primary",3,"disabled",4,"ngIf"],["mat-flat-button","","color","primary",3,"disabled"]],template:function(o,l){1&o&&(t.j41(0,"div",0),t.EFF(1),t.k0s(),t.j41(2,"form",1),t.bIt("ngSubmit",function(){return l.save()}),t.j41(3,"mat-dialog-content")(4,"div",2)(5,"mat-form-field",3)(6,"mat-label"),t.EFF(7,"Ci"),t.k0s(),t.nrm(8,"input",4),t.k0s(),t.j41(9,"mat-form-field",3)(10,"mat-label"),t.EFF(11,"Extension"),t.k0s(),t.nrm(12,"input",5),t.k0s(),t.j41(13,"mat-form-field",3)(14,"mat-label"),t.EFF(15,"Nombre"),t.k0s(),t.nrm(16,"input",6),t.k0s(),t.j41(17,"mat-form-field",3)(18,"mat-label"),t.EFF(19,"Telefono"),t.k0s(),t.nrm(20,"input",7),t.k0s(),t.j41(21,"mat-form-field",3)(22,"mat-label"),t.EFF(23,"Correo"),t.k0s(),t.nrm(24,"input",8),t.k0s(),t.j41(25,"mat-form-field",3)(26,"mat-label"),t.EFF(27,"Direccion"),t.k0s(),t.nrm(28,"input",9),t.k0s()()(),t.j41(29,"mat-dialog-actions",10),t.DNE(30,I,2,1,"button",11),t.DNE(31,E,2,1,"button",11),t.k0s()()),2&o&&(t.R7$(1),t.SpI("",l.isCreateMode()?"Crear":"Actualizar"," Cliente"),t.R7$(1),t.Y8G("formGroup",l.form),t.R7$(28),t.Y8G("ngIf",l.isCreateMode()),t.R7$(1),t.Y8G("ngIf",l.isUpdateMode()))},dependencies:[d.bT,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,C.DJ,C.sA,C.UI,m.BI,m.Yi,m.E7,v.fg,x.rl,x.nJ,f.$z]})}}return n})();var R=i(97405),T=i(74061),G=i(43655),$=i(53007),M=i(15551),N=i(75063),D=i(82765),h=i(99213),p=i(59115),k=i(96695),b=i(2042);function S(n,a){1&n&&(t.j41(0,"th",15)(1,"mat-checkbox",16),t.bIt("click",function(o){return o.stopPropagation()}),t.k0s()())}function Y(n,a){1&n&&(t.j41(0,"td",17)(1,"mat-checkbox",16),t.bIt("click",function(o){return o.stopPropagation()}),t.k0s()())}function P(n,a){if(1&n&&(t.j41(0,"th",22),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2).$implicit;t.R7$(1),t.SpI(" ",e.name,"")}}function V(n,a){if(1&n&&(t.j41(0,"td",23),t.EFF(1),t.k0s()),2&n){const e=a.$implicit,o=t.XpG(2).$implicit;t.R7$(1),t.SpI(" ",e[o.property]," ")}}function z(n,a){if(1&n&&(t.qex(0,19),t.DNE(1,P,2,1,"th",20),t.DNE(2,V,2,1,"td",21),t.bVm()),2&n){const e=t.XpG().$implicit;t.Y8G("matColumnDef",e.property)}}function A(n,a){if(1&n&&(t.qex(0),t.DNE(1,z,3,1,"ng-container",18),t.bVm()),2&n){const e=a.$implicit;t.R7$(1),t.Y8G("ngIf",e.isModelProperty)}}function w(n,a){1&n&&t.nrm(0,"th",24)}function X(n,a){if(1&n){const e=t.RV6();t.j41(0,"td",17)(1,"button",25),t.bIt("click",function(l){return l.stopPropagation()}),t.j41(2,"mat-icon"),t.EFF(3,"more_horiz"),t.k0s()(),t.j41(4,"mat-menu",26,27)(6,"button",28),t.bIt("click",function(){const c=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.updateCliente(c))}),t.j41(7,"span"),t.EFF(8,"Modify"),t.k0s()(),t.j41(9,"button",28),t.bIt("click",function(){const c=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.deleteCliente(c))}),t.j41(10,"span"),t.EFF(11,"Delete"),t.k0s()()()()}if(2&n){const e=t.sdS(5);t.R7$(1),t.Y8G("matMenuTriggerFor",e)}}function _(n,a){1&n&&t.nrm(0,"tr",29)}function U(n,a){if(1&n){const e=t.RV6();t.j41(0,"tr",30),t.bIt("click",function(){const c=t.eBV(e).$implicit,u=t.XpG();return t.Njj(u.updateCliente(c))}),t.k0s()}}const B=function(){return["Cliente"]},H=function(){return[]},J=[{path:"",component:(()=>{class n{ngOnInit(){const e=new r.hs(123);console.info("untypedControl value",e.value);const o=new r.J3({id:new r.hs,ci:new r.hs,extension:new r.hs,nombre:new r.hs,telefono:new r.hs,correo:new r.hs,direccion:new r.hs});console.info("untypedGroup value",o.value),this.getClientes()}get visibleColumns(){return this.columns.filter(e=>e.visible).map(e=>e.property)}constructor(e,o){this.apiClient=e,this.dialog=o,this.dataSource=new s.I6([]),this.columns=[{name:"ID",property:"id",visible:!0,isModelProperty:!0},{name:"CI",property:"ci",visible:!0,isModelProperty:!0},{name:"Extension",property:"extension",visible:!0,isModelProperty:!0},{name:"Nombre",property:"nombre",visible:!0,isModelProperty:!0},{name:"Telefono",property:"telefono",visible:!0,isModelProperty:!0},{name:"Correo",property:"correo",visible:!0,isModelProperty:!0},{name:"Direccion",property:"direccion",visible:!0,isModelProperty:!0},{name:"Actions",property:"actions",visible:!0}],this.pageSize=10,this.event=event}getClientes(){this.apiClient.getRequest("/api/cliente").subscribe({next:e=>{this.dataSource.data=e,console.log(e)},error:e=>{console.error(e)}})}onFilterChange(e){this.dataSource&&(e=(e=e.trim()).toLowerCase(),this.dataSource.filter=e)}updateCliente(e){console.info(e),this.dialog.open(j,{data:e,width:"400px"}).afterClosed().subscribe(o=>{o?this.apiClient.putRequest("/api/cliente",o.id,o).subscribe({next:l=>{this.getClientes()},error:l=>{console.error(l)}}):console.info("Cancelado")})}deleteCliente(e){console.info("deleteCliente",e),this.apiClient.deleteRequest(e.id,"/api/cliente").subscribe({next:o=>{this.getClientes()},error:o=>{console.error(o)}})}createCliente(){console.info("Abre dialogo"),this.dialog.open(j,{width:"400px"}).afterClosed().subscribe(e=>{e?(console.info("Al cerrar",e),this.apiClient.postRequest("/api/cliente",e).subscribe({next:o=>{console.info("OK",o),this.getClientes()},error:o=>{console.error("error",o)}}),console.info("Fin api call")):console.info("Cancelado")}),console.info("Fin Metodo")}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(R.f),t.rXU(m.bZ))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["fury-cliente"]],inputs:{columns:"columns"},decls:20,vars:9,consts:[["mode","card"],["current","Clientes",3,"crumbs"],["name","Clientes",3,"columns","filterChange"],[1,"actions"],["type","button","mat-mini-fab","","color","primary",1,"create",3,"click"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","checkbox"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"paginator",3,"pageSize"],["mat-header-cell","",1,"actions-cell"],["color","primary",3,"click"],["mat-cell","",1,"actions-cell"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements",3,"click"]],template:function(o,l){1&o&&(t.j41(0,"fury-page-layout",0)(1,"fury-page-layout-header"),t.nrm(2,"fury-breadcrumbs",1),t.k0s(),t.j41(3,"fury-page-layout-content")(4,"fury-list",2),t.bIt("filterChange",function(u){return l.onFilterChange(u)}),t.j41(5,"div",3)(6,"button",4),t.bIt("click",function(){return l.createCliente()}),t.j41(7,"mat-icon"),t.EFF(8,"add"),t.k0s()()(),t.j41(9,"table",5),t.qex(10,6),t.DNE(11,S,2,0,"th",7),t.DNE(12,Y,2,0,"td",8),t.bVm(),t.DNE(13,A,2,1,"ng-container",9),t.qex(14,10),t.DNE(15,w,1,0,"th",11),t.DNE(16,X,12,1,"td",8),t.bVm(),t.DNE(17,_,1,0,"tr",12),t.DNE(18,U,1,0,"tr",13),t.k0s(),t.nrm(19,"mat-paginator",14),t.k0s()()()),2&o&&(t.R7$(2),t.Y8G("crumbs",t.lJ4(7,B)),t.R7$(2),t.Y8G("columns",t.lJ4(8,H)),t.R7$(5),t.Y8G("dataSource",l.dataSource),t.R7$(4),t.Y8G("ngForOf",l.columns),t.R7$(4),t.Y8G("matHeaderRowDef",l.visibleColumns),t.R7$(1),t.Y8G("matRowDefColumns",l.visibleColumns),t.R7$(1),t.Y8G("pageSize",l.pageSize))},dependencies:[d.Sq,d.bT,T.m,G.T,$.M,M.M,N.s,f.iY,f.$0,D.So,h.An,p.kk,p.fb,p.Cp,k.iy,b.B4,b.aE,s.Zl,s.tL,s.ji,s.cC,s.YV,s.iL,s.KS,s.$R,s.YZ,s.NB]})}}return n})()}];let L=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[y.iI.forChild(J),y.iI]})}}return n})();var O=i(3632),Z=i(91398),K=i(49320),Q=i(26924),W=i(5951),q=i(82798);let tt=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[d.MD,r.YN,r.X1,Q.YF,m.hM,v.fS,f.Hl,h.m_,W.Wk,q.Ve]})}}return n})();var et=i(60858),nt=i(11801);let ot=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[d.MD,L,O.V,et.H,nt.g,K.S,Z.H,f.Hl,D.g7,h.m_,p.Cn,k.Ou,b.NQ,s.tP,tt,r.YN]})}}return n})()}}]);