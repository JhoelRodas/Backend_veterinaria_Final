"use strict";(self.webpackChunkfury=self.webpackChunkfury||[]).push([[0],{97e3:(Qn,O,r)=>{r.r(O),r.d(O,{AgendaModule:()=>Jn});var g=r(60177),G=r(18498),m=r(9159),f=r(89417),h=r(34006),e=r(17705),C=r(52920),A=r(88834),I=r(86467),R=r(99631);function ft(t,o){if(1&t&&(e.j41(0,"button",12),e.EFF(1,"Registrar Agenda "),e.k0s()),2&t){const n=e.XpG();e.Y8G("disabled",!n.form.valid)}}function mt(t,o){if(1&t&&(e.j41(0,"button",12),e.EFF(1,"Actualizar Agenda "),e.k0s()),2&t){const n=e.XpG();e.Y8G("disabled",!n.form.valid)}}let $=(()=>{class t{constructor(n,a){this.defaults=n,this.dialogRef=a,this.mode="create"}ngOnInit(){if(this.defaults){this.mode="update";const n=this.defaults.fecha.split("/");this.defaults.fecha=`${n[2]}-${n[1]}-${n[0]}`}else this.defaults={};this.form=new f.J3({cliente:new f.hs(this.defaults.cliente),ci:new f.hs(this.defaults.ci),fecha:new f.hs(this.defaults.fecha),hora:new f.hs(this.defaults.hora),descripcion:new f.hs(this.defaults.descripcion),estado:new f.hs(this.defaults.estado)})}save(){console.log(this.form.value),"create"===this.mode?this.createCustomer():"update"===this.mode&&this.updateCustomer()}createCustomer(){this.dialogRef.close(this.form.value)}updateCustomer(){const n=this.form.value;n.id=this.defaults.id,this.dialogRef.close(n)}isCreateMode(){return"create"===this.mode}isUpdateMode(){return"update"===this.mode}static{this.\u0275fac=function(a){return new(a||t)(e.rXU(h.Vh),e.rXU(h.CP))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["fury-crear-actualizar-agenda"]],decls:32,vars:4,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],["fxLayout","column wrap"],["fxFlex",""],["type","text","formControlName","cliente","matInput",""],["type","text","formControlName","ci","matInput",""],["type","date","formControlName","fecha","matInput",""],["type","time","formControlName","hora","matInput",""],["type","text","formControlName","descripcion","matInput",""],["type","text","formControlName","estado","matInput",""],["fxLayout","row","fxLayoutAlign","end center"],["mat-flat-button","","color","primary",3,"disabled",4,"ngIf"],["mat-flat-button","","color","primary",3,"disabled"]],template:function(a,s){1&a&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"form",1),e.bIt("ngSubmit",function(){return s.save()}),e.j41(3,"mat-dialog-content")(4,"div",2)(5,"mat-form-field",3)(6,"mat-label"),e.EFF(7,"Cliente"),e.k0s(),e.nrm(8,"input",4),e.k0s(),e.j41(9,"mat-form-field",3)(10,"mat-label"),e.EFF(11,"Ci"),e.k0s(),e.nrm(12,"input",5),e.k0s(),e.j41(13,"mat-form-field",3)(14,"mat-label"),e.EFF(15,"Fecha"),e.k0s(),e.nrm(16,"input",6),e.k0s(),e.j41(17,"mat-form-field",3)(18,"mat-label"),e.EFF(19,"Hora"),e.k0s(),e.nrm(20,"input",7),e.k0s(),e.j41(21,"mat-form-field",3)(22,"mat-label"),e.EFF(23,"Descripcion"),e.k0s(),e.nrm(24,"input",8),e.k0s(),e.j41(25,"mat-form-field",3)(26,"mat-label"),e.EFF(27,"Estado"),e.k0s(),e.nrm(28,"input",9),e.k0s()()(),e.j41(29,"mat-dialog-actions",10),e.DNE(30,ft,2,1,"button",11),e.DNE(31,mt,2,1,"button",11),e.k0s()()),2&a&&(e.R7$(1),e.SpI("",s.isCreateMode()?"Crear":"Actualizar"," Agenda"),e.R7$(1),e.Y8G("formGroup",s.form),e.R7$(28),e.Y8G("ngIf",s.isCreateMode()),e.R7$(1),e.Y8G("ngIf",s.isUpdateMode()))},dependencies:[g.bT,C.DJ,C.sA,C.UI,A.$z,h.BI,h.Yi,h.E7,I.rl,I.nJ,R.fg,f.qT,f.me,f.BC,f.cb,f.j4,f.JD]})}}return t})();var ut=r(85401),dt=r(99162),N=r(81984),pt=r(1827);const v=function gt(t,o,n,a){var s=!n;n||(n={});for(var l=-1,c=o.length;++l<c;){var u=o[l],d=a?a(n[u],t[u],u,n,t):void 0;void 0===d&&(d=t[u]),s?(0,pt.A)(n,u,d):(0,N.A)(n,u,d)}return n};var P=r(2662);var bt=r(76726),x=r(30554),B=r(35776);var Tt=Object.prototype.hasOwnProperty;const Ft=function jt(t){if(!(0,x.A)(t))return function At(t){var o=[];if(null!=t)for(var n in Object(t))o.push(n);return o}(t);var o=(0,B.A)(t),n=[];for(var a in t)"constructor"==a&&(o||!Tt.call(t,a))||n.push(a);return n};var It=r(31287);const S=function xt(t){return(0,It.A)(t)?(0,bt.A)(t,!0):Ft(t)};var Dt=r(1860),L="object"==typeof exports&&exports&&!exports.nodeType&&exports,Y=L&&"object"==typeof module&&module&&!module.nodeType&&module,U=Y&&Y.exports===L?Dt.A.Buffer:void 0,_=U?U.allocUnsafe:void 0;var V=r(35844);var Bt=r(70563);const X=(0,r(38992).A)(Object.getPrototypeOf,Object);var Ut=r(26032);const K=Object.getOwnPropertySymbols?function(t){for(var o=[];t;)(0,Bt.A)(o,(0,V.A)(t)),t=X(t);return o}:Ut.A;var wt=r(67895),Ht=r(56658);const Jt=function zt(t){return(0,Ht.A)(t,S,K)};var E=r(81350),kt=Object.prototype.hasOwnProperty;var w=r(26509);const D=function qt(t){var o=new t.constructor(t.byteLength);return new w.A(o).set(new w.A(t)),o};var ne=/\w*$/;var H=r(6944),z=H.A?H.A.prototype:void 0,J=z?z.valueOf:void 0;const De=function Ee(t,o,n){var a=t.constructor;switch(o){case"[object ArrayBuffer]":return D(t);case"[object Boolean]":case"[object Date]":return new a(+t);case"[object DataView]":return function te(t,o){var n=o?D(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function ie(t,o){var n=o?D(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,n);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(t);case"[object RegExp]":return function oe(t){var o=new t.constructor(t.source,ne.exec(t));return o.lastIndex=t.lastIndex,o}(t);case"[object Symbol]":return function re(t){return J?Object(J.call(t)):{}}(t)}};var Z=Object.create;const Oe=function(){function t(){}return function(o){if(!(0,x.A)(o))return{};if(Z)return Z(o);t.prototype=o;var n=new t;return t.prototype=void 0,n}}();var $e=r(43744),Ne=r(39377),k=r(42661);var Q=r(20778),T=r(33340),W=T.A&&T.A.isMap;const Ue=W?(0,Q.A)(W):function Be(t){return(0,k.A)(t)&&"[object Map]"==(0,E.A)(t)};var q=T.A&&T.A.isSet;const we=q?(0,Q.A)(q):function Ve(t){return(0,k.A)(t)&&"[object Set]"==(0,E.A)(t)};var tt="[object Arguments]",et="[object Function]",nt="[object Object]",i={};i[tt]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object DataView]"]=i["[object Boolean]"]=i["[object Date]"]=i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Map]"]=i["[object Number]"]=i[nt]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object Symbol]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Error]"]=i[et]=i["[object WeakMap]"]=!1;const An=function j(t,o,n,a,s,l){var c,u=1&o,d=2&o,Zn=4&o;if(n&&(c=s?n(t,a,s,l):n(t)),void 0!==c)return c;if(!(0,x.A)(t))return t;var st=(0,$e.A)(t);if(st){if(c=function Qt(t){var o=t.length,n=new t.constructor(o);return o&&"string"==typeof t[0]&&kt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return function Rt(t,o){var n=-1,a=t.length;for(o||(o=Array(a));++n<a;)o[n]=t[n];return o}(t,c)}else{var b=(0,E.A)(t),it=b==et||"[object GeneratorFunction]"==b;if((0,Ne.A)(t))return function Ot(t,o){if(o)return t.slice();var n=t.length,a=_?_(n):new t.constructor(n);return t.copy(a),a}(t,u);if(b==nt||b==tt||it&&!s){if(c=d||it?{}:function Ge(t){return"function"!=typeof t.constructor||(0,B.A)(t)?{}:Oe(X(t))}(t),!u)return d?function Xt(t,o){return v(t,K(t),o)}(t,function St(t,o){return t&&v(o,S(o),t)}(c,t)):function Nt(t,o){return v(t,(0,V.A)(t),o)}(t,function ht(t,o){return t&&v(o,(0,P.A)(o),t)}(c,t))}else{if(!i[b])return s?t:{};c=De(t,b,u)}}l||(l=new ut.A);var ct=l.get(t);if(ct)return ct;l.set(t,c),we(t)?t.forEach(function(p){c.add(j(p,o,n,p,t,l))}):Ue(t)&&t.forEach(function(p,y){c.set(y,j(p,o,n,y,t,l))});var lt=st?void 0:(Zn?d?Jt:wt.A:d?S:P.A)(t);return(0,dt.A)(lt||t,function(p,y){lt&&(p=t[y=p]),(0,N.A)(c,y,j(p,o,n,y,t,l))}),c};var Fn=r(97405),In=r(74061),xn=r(75063),ot=r(82765),at=r(99213),F=r(59115),rt=r(96695),M=r(2042),Sn=r(43655),En=r(53007),Dn=r(15551);function Mn(t,o){1&t&&(e.j41(0,"th",15)(1,"mat-checkbox",16),e.bIt("click",function(a){return a.stopPropagation()}),e.k0s()())}function On(t,o){1&t&&(e.j41(0,"td",17)(1,"mat-checkbox",16),e.bIt("click",function(a){return a.stopPropagation()}),e.k0s()())}function Gn(t,o){if(1&t&&(e.j41(0,"th",22),e.EFF(1),e.k0s()),2&t){const n=e.XpG(2).$implicit;e.R7$(1),e.SpI(" ",n.name,"")}}function Rn(t,o){if(1&t&&(e.j41(0,"td",23),e.EFF(1),e.k0s()),2&t){const n=o.$implicit,a=e.XpG(2).$implicit;e.R7$(1),e.SpI(" ",n[a.property]," ")}}function $n(t,o){if(1&t&&(e.qex(0,19),e.DNE(1,Gn,2,1,"th",20),e.DNE(2,Rn,2,1,"td",21),e.bVm()),2&t){const n=e.XpG().$implicit;e.Y8G("matColumnDef",n.property)}}function Nn(t,o){if(1&t&&(e.qex(0),e.DNE(1,$n,3,1,"ng-container",18),e.bVm()),2&t){const n=o.$implicit;e.R7$(1),e.Y8G("ngIf",n.isModelProperty)}}function Pn(t,o){1&t&&e.nrm(0,"th",24)}function Bn(t,o){if(1&t){const n=e.RV6();e.j41(0,"td",17)(1,"button",25),e.bIt("click",function(s){return s.stopPropagation()}),e.j41(2,"mat-icon"),e.EFF(3,"more_horiz"),e.k0s()(),e.j41(4,"mat-menu",26,27)(6,"button",28),e.bIt("click",function(){const l=e.eBV(n).$implicit,c=e.XpG();return e.Njj(c.updateAgenda(l))}),e.j41(7,"span"),e.EFF(8,"Modify"),e.k0s()(),e.j41(9,"button",28),e.bIt("click",function(){const l=e.eBV(n).$implicit,c=e.XpG();return e.Njj(c.deleteAgenda(l))}),e.j41(10,"span"),e.EFF(11,"Delete"),e.k0s()()()()}if(2&t){const n=e.sdS(5);e.R7$(1),e.Y8G("matMenuTriggerFor",n)}}function Ln(t,o){1&t&&e.nrm(0,"tr",29)}function Yn(t,o){if(1&t){const n=e.RV6();e.j41(0,"tr",30),e.bIt("click",function(){const l=e.eBV(n).$implicit,c=e.XpG();return e.Njj(c.updateAgenda(l))}),e.k0s()}}const Un=function(){return["Agenda"]},_n=function(){return[]},Vn=[{path:"",component:(()=>{class t{ngOnInit(){this.getAgenda()}get visibleColumns(){return this.columns.filter(n=>n.visible).map(n=>n.property)}constructor(n,a){this.apiClient=n,this.dialog=a,this.dataSource=new m.I6([]),this.columns=[{name:"ID",property:"id",visible:!0,isModelProperty:!0},{name:"Cliente",property:"cliente",visible:!0,isModelProperty:!0},{name:"Fecha",property:"fecha",visible:!0,isModelProperty:!0},{name:"Hora",property:"hora",visible:!0,isModelProperty:!0},{name:"Descripcion",property:"descripcion",visible:!0,isModelProperty:!0},{name:"Estado",property:"estado",visible:!0,isModelProperty:!0},{name:"Actions",property:"actions",visible:!0}],this.pageSize=10}getAgenda(){this.apiClient.getRequest("/api/agenda").subscribe({next:n=>{this.dataSource.data=n,console.log(n)},error:n=>{console.error(n)}})}createAgenda(){console.info("Abre dialogo de creacion de Agenda"),this.dialog.open($,{width:"400px"}).afterClosed().subscribe(n=>{n?(console.info("Al cerrar",n),n.fecha&&(n.fecha=(0,g.Yq)(n.fecha,"dd/MM/yyyy","en")),this.apiClient.postRequest("/api/agenda",n).subscribe({next:a=>{console.info("OK",a),this.getAgenda()},error:a=>{console.error("error",a)}}),console.info("Fin api call")):console.info("Cancelado"),console.info("Fin Metodo")})}updateAgenda(n){const a=function Tn(t){return An(t,5)}(n);console.info(a),this.dialog.open($,{data:a,width:"400px"}).afterClosed().subscribe(s=>{s?(s.fecha&&(s.fecha=(0,g.Yq)(s.fecha,"dd/MM/yyyy","en")),this.apiClient.putRequest("/api/agenda",s.id,s).subscribe({next:l=>{this.getAgenda()},error:l=>{console.info(l)}})):console.info("Cancelado")})}deleteAgenda(n){console.info("deleteAgenda",n),this.apiClient.deleteRequest(n.id,"/api/agenda").subscribe({next:a=>{this.getAgenda()},error:a=>{console.info(a)}})}onFilterChange(n){console.info(event),this.dataSource&&(n=(n=n.trim()).toLowerCase(),this.dataSource.filter=n)}static{this.\u0275fac=function(a){return new(a||t)(e.rXU(Fn.f),e.rXU(h.bZ))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["fury-agenda"]],decls:20,vars:9,consts:[["mode","card"],["current","Agenda",3,"crumbs"],["name","Citas",3,"columns","filterChange"],[1,"actions"],["type","button","mat-mini-fab","","color","primary",1,"create",3,"click"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","checkbox"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"paginator",3,"pageSize"],["mat-header-cell","",1,"actions-cell"],["color","primary",3,"click"],["mat-cell","",1,"actions-cell"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements",3,"click"]],template:function(a,s){1&a&&(e.j41(0,"fury-page-layout",0)(1,"fury-page-layout-header"),e.nrm(2,"fury-breadcrumbs",1),e.k0s(),e.j41(3,"fury-page-layout-content")(4,"fury-list",2),e.bIt("filterChange",function(c){return s.onFilterChange(c)}),e.j41(5,"div",3)(6,"button",4),e.bIt("click",function(){return s.createAgenda()}),e.j41(7,"mat-icon"),e.EFF(8,"add"),e.k0s()()(),e.j41(9,"table",5),e.qex(10,6),e.DNE(11,Mn,2,0,"th",7),e.DNE(12,On,2,0,"td",8),e.bVm(),e.DNE(13,Nn,2,1,"ng-container",9),e.qex(14,10),e.DNE(15,Pn,1,0,"th",11),e.DNE(16,Bn,12,1,"td",8),e.bVm(),e.DNE(17,Ln,1,0,"tr",12),e.DNE(18,Yn,1,0,"tr",13),e.k0s(),e.nrm(19,"mat-paginator",14),e.k0s()()()),2&a&&(e.R7$(2),e.Y8G("crumbs",e.lJ4(7,Un)),e.R7$(2),e.Y8G("columns",e.lJ4(8,_n)),e.R7$(5),e.Y8G("dataSource",s.dataSource),e.R7$(4),e.Y8G("ngForOf",s.columns),e.R7$(4),e.Y8G("matHeaderRowDef",s.visibleColumns),e.R7$(1),e.Y8G("matRowDefColumns",s.visibleColumns),e.R7$(1),e.Y8G("pageSize",s.pageSize))},dependencies:[g.Sq,g.bT,In.m,xn.s,A.iY,A.$0,ot.So,at.An,F.kk,F.fb,F.Cp,rt.iy,M.B4,M.aE,m.Zl,m.tL,m.ji,m.cC,m.YV,m.iL,m.KS,m.$R,m.YZ,m.NB,Sn.T,En.M,Dn.M]})}}return t})()}];let Xn=(()=>{class t{static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[G.iI.forChild(Vn),G.iI]})}}return t})();var Kn=r(3632),wn=r(91398),Hn=r(49320);let zn=(()=>{class t{static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[g.MD,C.w2,A.Hl,h.hM,I.RG,R.fS,f.X1]})}}return t})(),Jn=(()=>{class t{static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[g.MD,Xn,Kn.V,wn.H,A.Hl,ot.g7,at.m_,F.Cn,rt.Ou,M.NQ,m.tP,Hn.S,zn]})}}return t})()}}]);